
# 그림으로 배우는 클라우드 인프라와 API의 구조

## 2023-05-31

* 웹API = 인증처리 + 제어할 대상 + 제어 행위
* 인증처리: 클라우드 서비스가 제공하는 독자적인 인증 기능 => Actor
* 제어할 대상: 리소스, URI로 표현됨 => Resource
* 제어행위: HTTP 메소드 => Action

* 리소스
  * 서버, 스토리지, 네트워크, 인스턴스, 이미지, 키 페어 등이 리소스
  * 리소스를 구분하기 위해 UUID나 이름을 사용함

* 액션
  * API 제어 행위
  * CRUD: Create, Read, Update, Delete

* 리소스
  * URI는 네트워크 부분과 경로 부분으로 구성됨
  * API를 공개하여 서비스를 제공하는 접점 혹은 API 호출을 받아서 처리하는 접점을 엔드포인트라고함
  * 엔드포인트의 경로를 가리키는게 URI
  * 도메인: 네트워크상에서 자원의 위치를 표현하는 것, IP가 아니라 문자 형태로 표현

## 2023-05-26

* 이메퍼럴 디스크: Ephemeral 수명이 짧은 이라는 뜻, 인스턴스가 종료되면 데이터도 사라짐
* 인스턴스를 실행할 때 템플릿 이미지를 사용해서 기동할 수 있음 -> 인스턴스가 종료되면 데이터도 사라짐 -> 블럭 장치로 부팅
* 오브젝트 스토리지
  * 파일 단위로 데이터를 저장하는 데이터 스토어
  * HTTP/s 프로토콜을 사용하는 파일 서버?
  * 인스턴스뿐 아니라 외부 네트워크에서도 접근되는 데이터
  * 이미 저장된 파일의 덮어쓰기가 안됨 -> 파일을 삭제한 후 다시 저장해야함
  * 가용성이 높고 (멀티 AZ) 처리율이 우수 (속도 빠름?)
  * 동영상같은 정적 컨텐츠에 주로 사용
    * aws 오브젝트 스토리지는 버킷을 리젼별로 만듬 -> 다른 리전의 인스턴스에서 생성한 오브젝트도 다른 인스턴스에서 접근 가능
  * 실제로 디렉토리가 존재하는게 아니라 이름만 /을 써준것임
  * 각 오브젝트에 key-value의 메타 데이터를 부여할 수 있음
  * 버저닝 - 오브젝트에 버전 번호를 붙여 관리하는 기능
    * 같은 이름의 파일을 저장하면 기존 파일을 덮어 쓰지않고 새로운 버전 번호로 파일을 저장
    * 기존 파일을 해당 버전 번호로 복구할 수 있음
  * 정적 웹 호스팅 - 오브젝트 스토리지를 웹 서버로 사용, 버킷을 누구나 읽을 수 있게 설정하고 정적 HTML파일, 이미지, 동영상 등 저장 - URL로 웹페이지 접근
  * 블록 스토리지의 백업에도 사용 - 볼륨을 잘라서 오브젝트로 저장/복원 - 다른 리전이나 AZ에서도 받아서 복원가능
